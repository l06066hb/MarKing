# 更新日志

所有重要的版本变更都会记录在此文件中。

---

## [1.0.10] - 2026-02-11

### ✨ 新增功能

#### 应用启动加载优化
- ✅ **启动屏幕**：应用启动时显示精美的加载屏幕，提供清晰的加载进度反馈
- ✅ **渐进式加载**：采用三阶段加载策略（关键资源 → 核心功能 → 次要功能）
- ✅ **性能监控**：实时监控启动性能，记录各阶段耗时
- ✅ **错误处理**：完善的错误处理和重试机制
- ✅ **主题适配**：启动屏幕完美支持浅色/暗色主题

### 🐛 Bug 修复

#### 窗口控制按钮点击修复
- 扩大点击区域：按钮点击区域从 32x32 扩展到 40x40 像素
- 优化层级关系：确保按钮在最上层，不被其他元素覆盖
- 改进事件处理：阻止事件冒泡，避免误触发拖拽
- 布局稳定性：hover 和 active 状态不会导致布局偏移

### 🎨 界面优化

#### Monaco 代码片段提示框美化
- 毛玻璃效果：提示框采用现代化的毛玻璃背景
- 主题色集成：边框、阴影、选中项使用主题渐变色
- 浅色/暗色模式：完美适配两种模式，自动切换
- 选中项优化：清晰的选中指示器和悬停效果
- 响应式布局：支持不同屏幕尺寸，移动端友好
- 性能优化：使用 GPU 加速，保持 60fps 流畅体验
- 可访问性：支持键盘导航、焦点指示器、减少动画偏好

#### 备份选择对话框国际化
- 完整国际化：所有文本支持中英文切换
- 时间格式化：使用国际化的相对时间和绝对时间格式
- 文件大小格式化：使用国际化的文件大小格式（保留 2 位小数）
- 向后兼容：中文环境下的显示效果与之前完全一致

---

## [1.0.9] - 2026-02-10

### ✨ 新增功能

#### Markdown 换行行为优化
- ✅ **增强换行模式**：单次回车即可换行，更符合直觉
- ✅ **标准换行模式**：遵循传统 Markdown 规范
- ✅ **灵活切换**：在设置面板中一键切换换行模式
- ✅ **导出兼容**：PDF/DOCX 导出完美支持所选换行模式

### 🐛 Bug 修复

#### 编辑器工具栏按钮修复
- 修复代码块按钮：选中文本后点击，文本被包裹在代码块中（而不是被替换）
- 修复任务列表按钮：选中多行文本后点击，每行自动添加 `- [ ]` 标记
- 保持与其他格式化按钮的行为一致

### 🎨 界面优化

#### 设置面板简化
- 移除"常规"标签页中的"高级提示"区域
- 设置界面更加简洁专业
- 保留必要的 trayTip 和 startMinimizedTip 提示

---

## [1.0.8] - 2026-02-03

### 🌍 国际化支持

- ✅ **完整双语支持**：应用界面支持中文/English 双语切换
- ✅ **智能切换**：一键即时切换，无需重启应用
- ✅ **全面覆盖**：编辑器、文件管理、导出对话框、设置面板、通知系统等所有界面元素

### 📝 日志系统

- ✅ **自动日志记录**：记录应用启动、文件操作、数据库操作、导出等关键操作
- ✅ **自动轮转管理**：每天自动轮转，保留最近 30 天日志
- ✅ **便于问题排查**：日志位置
  - Windows: `%APPDATA%\com.marking.app\logs\`
 - macOS: `~/Library/Application Support/com.marking.app/logs/`
  - Linux: `~/.config/com.marking.app/logs/`

### 🐛 Bug 修复

- 修复数据库路径不统一问题（现在所有数据统一存储在 `com.marking.app` 目录）
- 修复 TypeScript 编译错误
- 修复部分界面元素硬编码文本

---

## [1.0.7] - 2026-01-18

### ✨ 新增功能

#### DOCX 模板系统重新设计
- **专业模板系统**：3 个精心设计的预设模板 + 无限自定义模板
- **完整配置系统**：10+ 大类配置项，涵盖文档结构、样式美化、高级选项
- **直观用户界面**：左右分栏布局，实时验证，响应式设计
- **模板管理**：导入/导出、复制、编辑、删除模板
- **流畅体验**：加载状态、Toast 通知、交互反馈、键盘快捷键

### 🐛 Bug 修复
- 修复键盘快捷键在某些情况下不工作的问题

---

## [1.0.6] - 2026-01-15

### ✨ 新增功能

#### 版本更新系统
- 自动检查 GitHub 最新版本
- 智能更新提示（24 小时内不重复）
- 手动检查更新功能
- 显示详细更新日志

#### 数据备份系统
- 一键备份所有数据（文件 + 数据库 + 配置）
- ZIP 压缩，节省空间
- 实时进度显示
- 选择性恢复功能

---

## [1.0.5] - 2026-01-14

### 🐛 Bug 修复
- 修复 DOCX 导出分页问题（封面、目录、正文正确分页）
- 优化 Pandoc 参数配置

### ✅ 功能验证
- 验证 DOCX 样式美化功能完整性（10 项配置全部生效）

---

## [1.0.4] - 2025-12-27

### ✨ 新增功能
- **列表自动续行**：按 Enter 自动继续列表项
- 支持有序列表、无序列表、任务列表
- 空列表项自动退出
- 性能优秀（< 0.05ms）

### 🐛 Bug 修复
- 修复打包后导出功能报错
- 修复快照清理机制问题

---

## [1.0.3] - 2025-12-26

### ✨ 新增功能
- **表格可视化编辑器**：像 Excel 一样编辑 Markdown 表格
- 自动检测表格
- 实时双向同步
- 完整的工具栏和快捷键

---

## [1.0.2] - 2025-12-24

### 🐛 Bug 修复
- 修复图片粘贴路径解析问题
- 修复复制图片文件粘贴不工作
- 修复文件树刷新问题
- 优化文件树自动展开逻辑

---

## [1.0.1] - 2025-12-20

### 🐛 Bug 修复
- 修复滚动同步功能问题

### ⚡ 性能优化
- 移除大量调试日志
- 简化粘贴处理器
- 优化 React useEffect 依赖
- 启动时间减少 20-30%
- 内存占用减少 5-10MB

---

## 版本说明

版本号格式：`主版本号.次版本号.修订号`

- **主版本号**：重大架构变更或不兼容的 API 修改
- **次版本号**：新增功能，向后兼容
- **修订号**：Bug 修复和小改进
